\documentclass[dvipdfmx]{beamer}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\hypersetup{
  setpagesize=false,
  bookmarks=true,
  bookmarksdepth=tocdepth,
  bookmarksnumbered=true,
  colorlinks=true,
  urlcolor=cyan,
  citecolor=blue,
  linkcolor=-yellow,  
  pdftitle={},
  pdfsubject={},
  pdfauthor={},
  pdfkeywords={}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[xcolor]{mdframed}
\usepackage{silence}\WarningFilter{mdframed}{You got a bad break}
\let\oldtheorem=\newtheorem
\mdfdefinestyle{leftbar}{topline=false,rightline=false,bottomline=false,innertopmargin=0pt,linewidth=1.5pt,linecolor=black}
\newcommand{\NewTheorem}[2][linecolor=black]{\surroundwithmdframed[style=leftbar,#1]{#2}\oldtheorem{#2}}
\newcommand{\NewTheoremStar}[2][linecolor=black]{\surroundwithmdframed[style=leftbar,#1]{#2}\oldtheorem*{#2}}
\makeatletter\renewcommand{\newtheorem}{\@ifstar{\NewTheoremStar}{\NewTheorem}}\makeatother
\newtheoremstyle{mydefinition}{\topsep}{\topsep}{\rmfamily}{0pt}{\sffamily\gtfamily\bfseries}{\newline}{1em}
{\underline{\thmname{#1}\thmnumber{ #2}\thmnote{ : #3 }\rmfamily}}
\theoremstyle{mydefinition}

\newtheorem{thm}{Theorem}[subsection]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{dfn}[thm]{Definition}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{ex}[thm]{Example}
\newtheorem{re}[thm]{Remark}
\newtheorem{exe}[thm]{Exercise}

\newcommand{\thmref}[1]{{\bfseries\sffamily Theorem \ref{#1}}}
\newcommand{\propref}[1]{{\bfseries\sffamily Proposition \ref{#1}}}
\newcommand{\coref}[1]{{\bfseries\sffamily Corollary \ref{#1}}}
\newcommand{\defref}[1]{{\bfseries\sffamily Definition \ref{#1}}}
\newcommand{\lemref}[1]{{\bfseries\sffamily Lemma \ref{#1}}}
\newcommand{\exref}[1]{{\bfseries\sffamily Example \ref{#1}}}
\newcommand{\reref}[1]{{\bfseries\sffamily Remark \ref{#1}}}
\newcommand{\exeref}[1]{{\bfseries\sffamily Exercise \ref{#1}}}
\newcommand{\picref}[1]{{\bfseries\sffamily 図 \ref{#1}}}

\makeatletter % use at mark
\renewenvironment{proof}[1][\proofname]{\par
  \pushQED{\qed}%
  \normalfont \topsep6\p@\@plus6\p@\relax
  \trivlist
  \item[\hskip\labelsep
        \itshape
    {\bf{\underline{#1. }}}]\ignorespaces
    % {\bf\underline{#1}\@addpunct{.}}]\ignorespaces % ピリオドあり
}{%
  \popQED\endtrivlist\@endpefalse
}
\makeatother % end at mark
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\resp}[1]{($\mathbf{resp}$. #1)}
\newcommand{\Rem}[1]{($\mathbf{Remark}$. #1)}
\renewcommand\thefootnote{*\arabic{footnote}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%マクロ
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\A}{\mathbb{A}}
\newcommand{\B}{\mathbb{B}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\D}{\mathbb{D}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\G}{\mathbb{G}}
\newcommand{\I}{\mathbb{I}}
\newcommand{\J}{\mathbb{J}}
\newcommand{\K}{\mathbb{K}}
\newcommand{\M}{\mathbb{M}}
\newcommand{\N}{\mathbb{N}}
\renewcommand{\O}{\mathbb{O}}
\renewcommand{\P}{\mathbb{P}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\T}{\mathbb{T}}
\newcommand{\U}{\mathbb{U}}
\newcommand{\V}{\mathbb{V}}
\newcommand{\W}{\mathbb{W}}
\newcommand{\X}{\mathbb{X}}
\newcommand{\Y}{\mathbb{Y}}
\newcommand{\Z}{\mathbb{Z}}
\renewcommand{\a}{\mathbb{a}}
\renewcommand{\b}{\mathbb{b}}
\renewcommand{\c}{\mathbb{c}}
\renewcommand{\d}{\mathbb{d}}
\newcommand{\e}{\mathbb{e}}
\newcommand{\f}{\mathbb{f}}
\newcommand{\g}{\mathbb{g}}
\renewcommand{\i}{\mathbb{i}}
\renewcommand{\j}{\mathbb{j}}
\renewcommand{\k}{\mathbb{k}}
\newcommand{\m}{\mathbb{m}}
\newcommand{\n}{\mathbb{n}}
\renewcommand{\o}{\mathbb{o}}
\newcommand{\p}{\mathbb{p}}
\newcommand{\q}{\mathbb{q}}
\renewcommand{\r}{\mathbb{r}}
\renewcommand{\t}{\mathbb{t}}
\renewcommand{\u}{\mathbb{u}}
\renewcommand{\v}{\mathbb{v}}
\newcommand{\w}{\mathbb{w}}
\newcommand{\x}{\mathbb{x}}
\newcommand{\y}{\mathbb{y}}
\newcommand{\z}{\mathbb{z}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\liea}{\mathfrak{a}}
\newcommand{\lieb}{\mathfrak{b}}
\newcommand{\liec}{\mathfrak{c}}
\newcommand{\lied}{\mathfrak{d}}
\newcommand{\liee}{\mathfrak{e}}
\newcommand{\lief}{\mathfrak{f}}
\newcommand{\lieg}{\mathfrak{g}}
\newcommand{\lieh}{\mathfrak{h}}
\newcommand{\liei}{\mathfrak{i}}
\newcommand{\liej}{\mathfrak{j}}
\newcommand{\liek}{\mathfrak{k}}
\newcommand{\liel}{\mathfrak{l}}
\newcommand{\liem}{\mathfrak{m}}
\newcommand{\lien}{\mathfrak{n}}
\newcommand{\lieo}{\mathfrak{o}}
\newcommand{\liep}{\mathfrak{p}}
\newcommand{\lieq}{\mathfrak{q}}
\newcommand{\lier}{\mathfrak{r}}
\newcommand{\lies}{\mathfrak{s}}
\newcommand{\liet}{\mathfrak{t}}
\newcommand{\lieu}{\mathfrak{u}}
\newcommand{\liev}{\mathfrak{v}}
\newcommand{\liew}{\mathfrak{w}}
\newcommand{\liex}{\mathfrak{x}}
\newcommand{\liey}{\mathfrak{y}}
\newcommand{\liez}{\mathfrak{z}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\vca}{\bm{a}}
\newcommand{\vcb}{\bm{b}}
\newcommand{\vcc}{\bm{c}}
\newcommand{\vcd}{\bm{d}}
\newcommand{\vce}{\bm{e}}
\newcommand{\vcf}{\bm{f}}
\newcommand{\vcg}{\bm{g}}
\newcommand{\vch}{\bm{h}}
\newcommand{\vci}{\bm{i}}
\newcommand{\vcj}{\bm{j}}
\newcommand{\vck}{\bm{k}}
\newcommand{\vcl}{\bm{l}}
\newcommand{\vcm}{\bm{m}}
\newcommand{\vcn}{\bm{n}}
\newcommand{\vco}{\bm{o}}
\newcommand{\vcp}{\bm{p}}
\newcommand{\vcq}{\bm{q}}
\newcommand{\vcr}{\bm{r}}
\newcommand{\vcs}{\bm{s}}
\newcommand{\vct}{\bm{t}}
\newcommand{\vcu}{\bm{u}}
\newcommand{\vcv}{\bm{v}}
\newcommand{\vcw}{\bm{w}}
\newcommand{\vcx}{\bm{x}}
\newcommand{\vcy}{\bm{y}}
\newcommand{\vcz}{\bm{z}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Ra}{\Rightarrow}
\newcommand{\Le}{\Leftarrow}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%category%%%%%%%%%%%%%%%
\newcommand{\CC}{\mathcal{C}}
\newcommand{\DD}{\mathcal{D}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\Set}{\textbf{Set}}
\newcommand{\Grp}{\textbf{Grp}}
\newcommand{\Cat}{\textbf{Cat}}
\newcommand{\Top}{\textbf{Top}}
\DeclareMathOperator{\Ob}{Ob}
\DeclareMathOperator{\Mor}{Mor}
\DeclareMathOperator{\Hom}{Hom}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareMathOperator{\ch}{ch}
\DeclareMathOperator{\rk}{rank}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\Gr}{Gr}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\Iso}{Iso}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\rad}{rad}
\DeclareMathOperator{\Rep}{Rep}
\DeclareMathOperator{\Coh}{Coh}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\Cl}{Cl}
\DeclareMathOperator{\Supp}{Supp}
\DeclareMathOperator{\UFD}{UFD}
\DeclareMathOperator{\PID}{PID}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\Coker}{Coker}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\Frob}{Frob}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\numberwithin{equation}{subsection}
\renewcommand{\theequation}{\arabic{subsection}.\arabic{equation}}
\renewcommand{\thefigure}{\arabic{section}.\arabic{figure}}
\renewcommand{\thetable}{\arabic{subsection}.\arabic{table}}
\makeatletter
\@addtoreset{equation}{subsection}
\@addtoreset{figure}{section}
\@addtoreset{table}{section}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%